(this["webpackJsonpdance-with-hangeul"]=this["webpackJsonpdance-with-hangeul"]||[]).push([[9],{85:function(t,i,e){"use strict";e.r(i);var a=e(0),s=e(20),h=e(9),n=e(21),c=e(28),o=e(12),r=e(22),l=e(23),u=e(51),f=function(t){Object(r.a)(e,t);var i=Object(l.a)(e);function e(t){var a;return Object(h.a)(this,e),(a=i.call(this,t)).text="\ud0d5",a.angle=t.angle,a.distance=0,a.stop=!1,a.vibe_acc=1,a}return Object(n.a)(e,[{key:"draw",value:function(){this.vibe_acc*=-1,this.stop||(this.distance-=25);var t=this.distance*Math.sin((90-this.angle)/180*Math.PI),i=this.distance*Math.cos((90-this.angle)/180*Math.PI);this.detect(this.x+t,150),this.detect(this.y+i,200),this.detect(this.y+i,window.innerHeight+50,1),this.ctx.save(),this.ctx.fillStyle=this.color,this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.font="".concat(this.fontSize,"px ").concat(this.fontFamily),this.ctx.globalAlpha=this.opacity,this.ctx.translate(this.x+t,this.y+i-25),this.ctx.rotate(this.angle*Math.PI/180),this.ctx.rotate(this.vibe_acc*Math.PI/180),this.ctx.fillText(this.text,-150,-150),this.ctx.restore(),this.destory()}},{key:"detect",value:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(!e&&t<i||e&&t>i)&&(this.stop||(this.life=60,this.vibe_acc=0),this.stop=!0)}},{key:"destory",value:function(){var t=this;Object(c.a)(Object(o.a)(e.prototype),"destory",this).call(this,(function(){t.opacity=t.life/60}))}}]),e}(e(52).a),x=e(19),g=function(t){Object(r.a)(e,t);var i=Object(l.a)(e);function e(t){var a;return Object(h.a)(this,e),(a=i.call(this,t)).HangulClass=f,a.cooltime={current:0,max:[30,40,80,80],idx:0,reset:function(){a.cooltime.current=0,a.cooltime.idx=Object(x.d)(0,a.cooltime.max.length)}},a}return Object(n.a)(e,[{key:"init",value:function(){this.canvas.style.letterSpacing="".concat(this.latterSpacing,"px"),this.ctx=this.canvas.getContext("2d"),this.ctx.save(),this.gun=new d({ctx:this.ctx,width:this.width,height:this.height}),this.canvas.width=this.width,this.canvas.height=this.height}},{key:"start",value:function(){var t=this;this.animation=requestAnimationFrame((function i(){if(t.cooltime.current++,t.cooltime.current===t.cooltime.max[t.cooltime.idx]){t.gun.setTang();var e=t.gun.angle;t.objects.push(new f(t.getParams(e)))}else t.cooltime.current===t.cooltime.max[t.cooltime.idx]+80&&(t.gun.setRotate(),t.cooltime.reset());t.removeObject(),t.drawBackground(),t.gun.draw(),t.drawObject(),t.animation=requestAnimationFrame(i)}))}},{key:"getParams",value:function(t){var i=Object(c.a)(Object(o.a)(e.prototype),"getParams",this).call(this),a=.75*this.width,h=.75*this.height;return Object(s.a)(Object(s.a)({},i),{},{fontSize:100,x:a,y:h,angle:t})}}]),e}(u.a),d=function(){function t(i){Object(h.a)(this,t),this.ctx=i.ctx,this.width=i.width,this.height=i.height,this.size=600,this.x=0,this.y=0,this.angle=15,this.start_angle=void 0,this.fin_angle=void 0,this.frame=-1,this.rotate_frame=-1}return Object(n.a)(t,[{key:"draw",value:function(){this.tang(),this.rotate(),this.ctx.save(),this.ctx.fillStyle="#fff",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.font="".concat(this.size,"px NanumGothic"),this.ctx.translate(.75*this.width+this.x,.75*this.height+this.y),this.ctx.rotate(this.angle/180*Math.PI),this.ctx.fillText("\u3131",0,0),this.ctx.restore()}},{key:"setTang",value:function(){this.start_angle=this.angle,this.fin_angle=this.angle+90,this.start_x=this.x,this.fin_x=150,this.frame=0}},{key:"tang",value:function(){-1!==this.frame&&(this.frame++,this.frame<5?(this.angle+=.2*(this.fin_angle-this.angle),this.x+=.2*(this.fin_x-this.x)):this.frame<60?(this.angle+=.08*(this.start_angle-this.angle),this.x+=.08*(this.start_x-this.x)):(this.angle=this.start_angle,this.x=this.start_x,this.frame=-1))}},{key:"setRotate",value:function(){this.fin_angle=Math.random()>.5?Object(x.d)(-30,80):Object(x.d)(330,440),this.rotate_frame=0}},{key:"rotate",value:function(){-1!==this.rotate_frame&&(this.rotate_frame++,this.rotate_frame<40?this.angle+=.1*(this.fin_angle-this.angle):this.rotate_frame=-1)}}]),t}(),m=e(1);i.default=function(t){var i=t.color,e=t.backgroundColor,s=t.fontFamily,h=Object(a.useRef)(null);return Object(a.useEffect)((function(){var t=h.current,a=new g({canvas:t,color:i,backgroundColor:e,fontFamily:s});return a.init(),a.start(),function(){a.stop()}}),[i,e,s]),Object(m.jsx)("canvas",{ref:h})}}}]);